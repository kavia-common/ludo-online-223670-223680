{"is_source_file": true, "format": "Java", "description": "Java service class 'GameService' implementing core game logic and operations for a Ludo game, including state retrieval, dice rolling, and token movement, with concurrency control and message broadcasting.", "external_files": ["com.example.backend.domain.GameState", "com.example.backend.domain.Room", "com.example.backend.dto.GameEventEnvelope", "com.example.backend.dto.GameStateDTO", "com.example.backend.repository.GameStateRepository", "com.fasterxml.jackson.core.type.TypeReference", "com.fasterxml.jackson.databind.ObjectMapper", "jakarta.transaction.Transactional", "org.slf4j.Logger", "org.slf4j.LoggerFactory", "org.springframework.stereotype.Service"], "external_methods": ["roomService.getRoomEntity", "gameStateRepository.save", "broadcastService.broadcast", "rules.normalizeColor", "rules.validMoves", "rules.applyMove", "rules.advanceTurn"], "published": ["getState", "rollDice", "moveToken"], "classes": [{"name": "GameService", "description": "Service class providing game logic for managing game state, moves, and communication in a multiplayer Ludo game."}], "methods": [{"name": "getState", "description": "Retrieves current game state for a specified room, returning a GameStateDTO."}, {"name": "rollDice", "description": "Handles a dice roll for a player, updating game state and broadcasting the event."}, {"name": "moveToken", "description": "Executes a token move according to game rules, updating state, and broadcasting the new state."}], "calls": ["roomService.getRoomEntity", "gameStateRepository.save", "broadcastService.broadcast", "rules.normalizeColor", "rules.validMoves", "rules.applyMove", "rules.advanceTurn"], "search-terms": ["GameService", "dice roll", "token move", "GameStateDTO", "game state retrieval"], "state": 2, "file_id": 33, "knowledge_revision": 70, "git_revision": "", "hash": "0c231909df3b3c79f80ef04abca2c89b", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/main/java/com/example/backend/service/GameService.java", "revision_history": [{"70": ""}]}