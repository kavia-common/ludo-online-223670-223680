{"is_source_file": true, "format": "Java", "description": "The file defines the `LudoRulesEngine` class, which implements core game logic for a simplified Ludo game. It provides methods to initialize game state, validate moves, apply moves, handle turn progression, parse and serialize game state, and normalize player colors.", "external_files": ["com.fasterxml.jackson.core.type.TypeReference", "com.fasterxml.jackson.databind.ObjectMapper"], "external_methods": ["ObjectMapper.readValue(String, TypeReference)", "ObjectMapper.writeValueAsString(Object)"], "published": ["initialBoardState", "validMoves", "applyMove", "advanceTurn", "parseBoard", "toJson", "normalizeColor"], "classes": [{"name": "LudoRulesEngine", "description": "Provides game logic, including move validation, application, turn management, and state serialization/deserialization for a simplified Ludo game."}], "methods": [{"name": "initialBoardState", "description": "Creates and returns the initial game board state with tokens all in 'HOME' position."}, {"name": "validMoves", "description": "Returns a list of token indices that can be moved given the current board state, player color, and dice roll."}, {"name": "applyMove", "description": "Updates the board state by moving a specified token, handling captures, and returning whether an extra turn is granted."}, {"name": "advanceTurn", "description": "Advances the turn to the next player unless an extra turn is granted."}, {"name": "parseBoard", "description": "Parses a JSON string into the board state map."}, {"name": "toJson", "description": "Serializes the board state map into a JSON string."}, {"name": "normalizeColor", "description": "Converts input color string to a standardized uppercase form if valid."}], "calls": ["mapper.readValue", "mapper.writeValueAsString"], "search-terms": ["LudoRulesEngine", "move validation", "token positions", "game state serialization", "apply move logic"], "state": 2, "file_id": 31, "knowledge_revision": 67, "git_revision": "", "hash": "6320f8fc71c5189199db690a0586a8d2", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/main/java/com/example/backend/service/LudoRulesEngine.java", "revision_history": [{"67": ""}]}