{"is_source_file": true, "format": "Java", "description": "This Java class, GameWsController, functions as a WebSocket message controller in a Spring Boot application. It handles incoming STOMP messages related to game actions such as rolling dice and moving tokens, and broadcasts game state updates to subscribed clients. The controller interacts with GameService for game logic and BroadcastService for messaging.", "external_files": ["com/example/backend/dto/GameEventEnvelope.java", "com/example/backend/dto/GameStateDTO.java", "com/example/backend/dto/actions/MoveRequest.java", "com/example/backend/dto/actions/RollRequest.java", "com/example/backend/service/GameService.java", "com/example/backend/service/BroadcastService.java"], "external_methods": ["GameService.rollDice", "GameService.moveToken", "GameEventEnvelope.of", "RollRequest.getColor", "MoveRequest.getColor", "MoveRequest.getTokenIndex", "MoveRequest.getDice"], "published": ["com.example.backend.controller.GameWsController"], "classes": [{"name": "GameWsController", "description": "STOMP WebSocket message controller for handling game actions and broadcasting updates."}], "methods": [{"name": "roll", "description": "Handles dice roll requests, interacts with GameService to process the roll, and broadcasts the updated game state."}, {"name": "move", "description": "Handles move requests, interacts with GameService to process the move, and broadcasts the updated game state."}], "calls": ["gameService.rollDice", "gameService.moveToken", "broadcastService.broadcast", "GameEventEnvelope.of"], "search-terms": ["WebSocketController", "STOMP message handling", "game state broadcast", "dice roll", "move token", "Java Spring WebSocket"], "state": 2, "file_id": 36, "knowledge_revision": 77, "git_revision": "", "hash": "ff1e4994ce02f80d7323df710d5c0446", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/main/java/com/example/backend/controller/GameWsController.java", "revision_history": [{"77": ""}]}